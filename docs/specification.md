# 欲求探索AIエージェント 仕様書

## 1. 概要
このアプリケーションは、ユーザーの欲求を深く探求し、言語化するためのAIエージェントを提供するウェブアプリケーションです。GPT-4o-miniモデルを使用し、マルチモーダルな入力をサポートします。

## 2. 技術スタック
- フロントエンド: Next.js (TypeScript)
- AIモデル: GPT-4o-mini
- ストリーミング: Server-Sent Events (SSE)
- マルチメディア処理: Web Speech API, Web Audio API, Canvas API

## 3. 主要機能

### 3.1 欲求探索フレームワーク
以下のフレームワークを組み合わせて、包括的な欲求探索を実現します：

1. **Maslowの欲求階層説**
   - 生理的欲求
   - 安全の欲求
   - 所属と愛の欲求
   - 承認の欲求
   - 自己実現の欲求

2. **Self-Determination Theory (SDT)**
   - 自律性 (Autonomy)
   - 有能感 (Competence)
   - 関係性 (Relatedness)

3. **欲求探索プロセス**
   - 現状の認識
   - 感情の特定
   - 価値観の明確化
   - 目標の設定
   - 行動計画の策定

### 3.2 チャットインターフェース
- リアルタイムストリーミング応答
- チャット履歴の永続化
- コンテキストの維持と補完
- マルチモーダル入力のサポート
  - テキスト入力
  - 音声入力
  - 画像入力

### 3.3 設定機能
- APIキーの設定
- 言語設定
- 通知設定
- プライバシー設定

## 4. システムアーキテクチャ

### 4.1 フロントエンド
- Next.js App Router
- React Server Components
- Tailwind CSS
- Zustand (状態管理)

### 4.2 バックエンド
- Next.js API Routes
- OpenAI API
- ストリーミング処理
- セッション管理

### 4.3 データストレージ
- チャット履歴: IndexedDB
- ユーザー設定: LocalStorage
- セッションデータ: Cookie

## 5. セキュリティ要件
- APIキーの安全な管理
- データの暗号化
- プライバシーポリシーの遵守
- ユーザーデータの保護

## 6. パフォーマンス要件
- ストリーミング応答の遅延: 1秒以内
- チャット履歴の読み込み: 2秒以内
- マルチメディア処理: リアルタイム

## 7. アクセシビリティ
- WCAG 2.1準拠
- キーボードナビゲーション
- スクリーンリーダー対応
- カラーパレットの考慮

## 8. 今後の拡張性
- カスタムプロンプトの追加
- 欲求探索フレームワークの拡張
- マルチモーダル出力のサポート
- 分析ダッシュボードの追加 